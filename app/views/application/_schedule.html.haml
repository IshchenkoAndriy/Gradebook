.schedule_div
  -#%table
  -#  - @schedule.each do |double_class_schedule|
  -#    %tr
  -#      %td= double_class_schedule.day_of_week
  -#      %td= double_class_schedule.double_class_number
  -#      %td= double_class_schedule.numerator_denominator
  -#      %td= double_class_schedule.subgroup

  %table.schedule_table
    - ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday'].each do |day_name|
      %th= day_name
    - (1..5).each do |double_class|
      %tr
        - (1..5).each do |day|
          - day_schedule = schedule_for_schedule_cell(day, double_class, @schedule)
          %td.schedule_general_table_wrapper
            - count_rows = get_count_rows(day_schedule)
            - count_columns = get_count_columns(day_schedule)
            - if count_rows == 0 and count_columns == 0
              %div.full_width.full_height.left_border.top_border.centered_cell= '-'
            - elsif count_rows == 1 and count_columns == 1
              %div.full_width.full_height.left_border.top_border.centered_cell= day_schedule.first.to_s
            - elsif count_rows == 1
              - (1..get_count_columns(day_schedule)).each do |column_index|
                %div.half_width.full_height.left_border.top_border.left_align_cell
                  - case get_count_rows_for_column(column_index, day_schedule)
                    - when 1
                      %div.full_height.centered_cell= get_rows_for_column(column_index, 1, day_schedule).to_s
                    - when 2
                      %div.half_height.half_width.bottom_border.top_align_cell= get_rows_for_column(column_index, 1, day_schedule)
                      %div.half_height.half_width.top_align_cell= get_rows_for_column(column_index, 2, day_schedule)

            - elsif count_columns == 1
              - (1..get_count_rows(day_schedule)).each do |row_index|
                %div
                  - case get_count_columns_for_row(row_index, day_schedule)
                    - when 1
                      %div.half_height.full_width.top_border.left_border.centered_cell= get_columns_for_row(1, row_index, day_schedule)
                    - when 2
                      - (1..2).each do |column_index|
                        %div.half_height.half_width.top_border.left_border.left_align_cell.centered_cell= get_columns_for_row(column_index, row_index, day_schedule).to_s

            - else
              - (1..get_count_rows(day_schedule)).each do |row_index|
                %div
                  - (1..get_count_columns(day_schedule)).each do |column_index|
                    %div.half_height.half_width.top_border.left_border.left_align_cell.centered_cell= get_columns_for_row(column_index, row_index, day_schedule).to_s
