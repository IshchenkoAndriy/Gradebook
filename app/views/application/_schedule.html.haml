.schedule_div
  %table.schedule_table.table-hover
    - [I18n.t('active_admin.schedule.days.monday'),
        I18n.t('active_admin.schedule.days.tuesday'),
        I18n.t('active_admin.schedule.days.wednesday'),
        I18n.t('active_admin.schedule.days.thursday'),
        I18n.t('active_admin.schedule.days.friday')].each do |day_name|
      %th= day_name
    - (1..5).each do |double_class|
      %tr
        - (1..5).each do |day|
          - day_schedule = schedule_for_schedule_cell(day, double_class, @schedule)
          %td.schedule_general_table_wrapper
            - count_rows = get_count_rows(day_schedule)
            - count_columns = get_count_columns(day_schedule)
            - if count_rows == 0 and count_columns == 0
              %div{class: full_size_cell_css_classes}
                %div= ''
            - elsif count_rows == 1 and count_columns == 1
              %div{class: full_size_cell_css_classes}
                %div= day_schedule.first.to_s
            - elsif count_rows == 1
              - (1..get_count_columns(day_schedule)).each do |column_index|
                %div{class: half_width_left_align_cell_css_classes}
                  - case get_count_rows_for_column(column_index, day_schedule)
                    - when 1
                      %div{class: half_width_cell_css_classes}
                        %div= get_rows_for_column(column_index, 1, day_schedule).to_s
                    - when 2
                      - text = get_rows_for_column(column_index, 1, day_schedule).to_s
                      %div{class: quarter_size_top_align_cell_css_classes + get_font_css_class(text) + [:bottom_border]}= text
                      - text = get_rows_for_column(column_index, 2, day_schedule).to_s
                      %div{class: quarter_size_top_align_cell_css_classes + get_font_css_class(text)}
                        %div= text

            - elsif count_columns == 1
              - (1..get_count_rows(day_schedule)).each do |row_index|
                %div
                  - case get_count_columns_for_row(row_index, day_schedule)
                    - when 1
                      %div{class: half_height_cell_css_class}
                        %div= get_columns_for_row(1, row_index, day_schedule).to_s
                    - when 2
                      - (1..2).each do |column_index|
                        - text = get_columns_for_row(column_index, row_index, day_schedule).to_s
                        %div{class: quarter_size_left_align_cell_css_classes + get_font_css_class(text)}
                          %div= text

            - else
              - (1..get_count_rows(day_schedule)).each do |row_index|
                %div
                  - (1..get_count_columns(day_schedule)).each do |column_index|
                    - text = get_columns_for_row(column_index, row_index, day_schedule).to_s
                    %div{class: quarter_size_left_align_cell_css_classes + get_font_css_class(text)}
                      %div= text
